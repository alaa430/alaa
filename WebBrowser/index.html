<!DOCTYPE html>
<html>
<head>
<title>PS5 Browser v1.2 - By Leeful</title>
<link rel="stylesheet" href="css/main.css">
</head>
<body>
<div id=BOX1>
<input id="search-input" type="url" value="http://">
</div>

<div id=BOX2>
<button id=gobut class=leeful onclick='goToURL();'> GO ></button>
</div>

<div id=BOX3>
<button class="leeful smaller" id=clrHis onclick="clearHistory()">Clear History</button><br>
<button class="leeful smaller" id=clrFav onclick="clearFavorites()">Clear Favorites</button>
</div>

<div id=favsid>
<h1>Favorites:</h1>
<div id=favs></div>
</div>

<div id=histid>
<h1>History:</h1>
<div id=hist></div>
</div>
<script>
url="";
x=document.getElementById("search-input");

if(!navigator.userAgent.includes('PlayStation 5')) {
 alert("This Page Will Only Display Correctly On A PS5 Console!");
}

if(localStorage.history==null){
 localStorage.history=""
};

if(localStorage.fav==null){
localStorage.fav="<a href='https://leeful.github.io/ps5/v1' target='_self'>https://leeful.github.io/ps5/v1</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>DELETE</button><br>";
localStorage.fav+="<a href='http://prb123.ir/ps5' target='_self'>http://prb123.ir/ps5</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>DELETE</button><br>";
}
 
function goToURL(){
 addHist()
 window.location.href = x.value;
}
 
function clearHistory(){
 if (confirm('Are you sure you want to delete your history?')) {
  localStorage.history="";
  hist.innerHTML=localStorage.history;
 } else {return}
}
 
function clearFavorites(){
 if (confirm('Are you sure you want to delete your favorites?')) {
  localStorage.fav="";
  favs.innerHTML=localStorage.fav;
 } else {return}
}

function addHist() {
 a = localStorage.history;
 b = "<a href='"+x.value+"' target='_self'>"+x.value+" </a><button onclick='url=this.previousElementSibling.innerHTML;addFav()'>ADD</button><br>";
 localStorage.history = b+a;
}

function addFav(){
 a = localStorage.fav;
 b = "<a href='"+url+"' target='_self'>"+url+"</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>DELETE</button><br>";
 alert(url+"\nAdded To Favorites");
 localStorage.fav = b+a;
 favs.innerHTML=localStorage.fav;
}

function remFav(){
 if (confirm('Are you sure you want to delete this favorite?')) {
  favlistBefore = localStorage.fav;
  removefav = "<a href='"+url+"' target='_self'>"+url+"</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>DELETE</button><br>";
  localStorage.fav = favlistBefore.replace(removefav, "");
  favs.innerHTML=localStorage.fav;
 } else {return}
}

hist.innerHTML=localStorage.history;
favs.innerHTML=localStorage.fav;
</script>
</body>
</html>
